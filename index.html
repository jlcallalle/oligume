<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Oligume</title>
    <!-- Favicon-->
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap");
        @import url("https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap");
    </style>
</head>

<body>
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container px-4 px-lg-5">
            <!--  <a class="navbar-brand" href="#!">Oligume</a> -->
            <a class="navbar-brand" href="index.html">
                <img class="logo-grand" src="assets/oligume.png" alt="oligume" />
            </a>
            <!-- <i class="bi bi-facebook"></i> -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0 ms-lg-4">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">Inicio</a>
                    </li>
                    <li class="nav-item"><a class="nav-link" href="nosotros.html">Nosotros</a></li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button"
                            data-bs-toggle="dropdown" aria-expanded="false">Tienda</a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li>
                                <a class="dropdown-item" href="#!">Todos los productos</a>
                            </li>
                            <li>
                                <hr class="dropdown-divider" />
                            </li>
                            <li><a class="dropdown-item" href="#!">Aceitunas</a></li>
                            <li><a class="dropdown-item" href="#!">Aceite de Oliva</a></li>
                        </ul>
                    </li>
                </ul>

                <div class="social-icons">
                    <a class="social-icon" href="https://facebook.com/oligume" target="_blank"><i
                            class="bi bi-facebook"></i></a>
                    <a class="social-icon" href="https://www.instagram.com/oligume" target="_blank">
                        <i class="bi bi-instagram"></i></a>
                    <a class="social-icon" href="https://wa.me/51934835047" target="_blank">
                        <i class="bi bi-whatsapp"></i></a>
                </div>
                <!-- <form class="d-flex">
                        <button class="btn btn-outline-dark" type="submit">
                            <i class="bi-cart-fill me-1"></i>
                            Cart
                            <span class="badge bg-dark text-white ms-1 rounded-pill">0</span>
                        </button>
                    </form> -->
            </div>
        </div>
    </nav>
    <!-- Header-->
  
    <div id="app">
        <p class="d-none"> {{ products }}</p>
        <header class="slider-oligume" v-if="!showProduct">
            <div class="container px-4">
                <div class="box-slider">
                    <h1 class="display-4 fw-bolder title-slider">OLIGUME</h1>
                    <div class="box-subtitle">
                        <p class="lead fw-normal mb-0 subtitle-slider">
                            Productores de Aceitunas y Aceite de Oliva del Valle de Acarí, Arequipa.
                        </p>
                    </div>
                </div>
            </div>
        </header>

        <div class="listado-productos" v-if="!showProduct">
            <div class="container px-4 px-lg-5 mt-5">
                <h2 class="title-page">Productos Destacados</h2>
                <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4">
                    <div class="col mb-5" v-for="product in products" :key="product.id">
                        <div class="card h-100">
                            <img :src="product.images" :alt="product.name">
                            <div class="card-body p-4">
                                <div class="text-center">
                                    <h5 class="fw-bolder"> {{ product.name }} </h5>
                                    <div class="d-flex justify-content-center small text-warning mb-2">
                                        <div class="bi-star-fill"></div>
                                        <div class="bi-star-fill"></div>
                                        <div class="bi-star-fill"></div>
                                        <div class="bi-star-fill"></div>
                                        <div class="bi-star-fill"></div>
                                    </div>
                                    <span>S/. {{ product.price }}</span>
                                </div>
                            </div>
                            <!-- Product actions-->
                            <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                <div class="text-center">
                                    <a class="btn btn-outline-dark mt-auto" @click="showDetail(product)">Ver Detalle</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="wrap-detalle-producto" v-if="showProduct">
            <div class="producto-header">
                <div class="container">
                    <h1>{{ selectedProduct.type }}</h1>
                </div>
            </div>
            <div class="producto-detalle">
                <div class="container">
                    <div class="row gx-4 gx-lg-5 align-items-center">
                        <div class="col-md-6">
                            <img class="card-img-top mb-5 mb-md-0" :src="selectedProduct.images">
                        </div>
                        <div class="col-md-6">
                            <!-- <div class="small mb-1">SKU: BST-498</div> -->
                            <h1 class="title-producto">{{ selectedProduct.name }}</h1>
                            <div class="fs-5 mb-4">
                                <span class="text-decoration-line-through">S/.{{ selectedProduct.pricePlus }}</span>
                                <span class="precio-real">S/.{{ selectedProduct.price }}</span>
                            </div>
                            <ul class="data-producto">
                                <li>Marca: <span>Oligume</span></li>
                                <li>Región: <span>AREQUIPA</span></li>
                                <li>Presentación: <span> Botella de vidrio verde oscuro</span></li>
                                <li>Peso <span>1 Litro</span></li>
                                <li>Pedido Min: <span> 1</span></li>
                                <li>Disponibilidad: <span> Todo el año</span></li>
                            </ul>
                            <div class="box-cantidad mb-3">
                                <span>Cantidad: </span>
                                <input class="form-control text-center"  type="number"  v-model="cantidad" style="max-width: 4rem" />
                            </div>
                            <!-- <a href="" class="btn mb-4 btn-contactar"  @click="showContact">Contactar Productor</a> -->
                            
                            <div class="detalle-pedido mb-3">
                                <p class="fw-bold">Detalle de Pedido</p>
                                <div class="row">
                                    <div class="col">
                                        <div class="detalle-precio">
                                            <div class="item">
                                                <span>Precio total:</span> <span>S/ {{ precioTotal }}</span>
                                            </div>
                                            <div class="item">
                                                <span>Descuento:</span> <span>- S/ 3.00</span>
                                            </div>
                                            <div class="item">
                                                <span>Costo de Envio:</span> <span>S/ 0.00</span>
                                            </div>
                                            <hr>
                                            <div class="item precio-final">
                                                <span>Total a pagar:</span> <span class="total-pagar">S/ {{ precioFinal }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="detalle-contacto mb-3">
                                <p>Datos del Cliente:</p>
                                <div class="row">
                                    <div class="col">
                                        <input type="text" class="form-control"  id="nombre" v-model="nombre" placeholder="Nombre">
                                    </div>
                                    <div class="col">
                                        <input type="text" class="form-control" id="celular" v-model="celular" placeholder="Celular" >
                                    </div>
                                </div>
                               <!--  <div class="row mt-3">
                                    <div class="col">
                                        <textarea  class="form-control" name="" id="" rows="3" placeholder="Detalle Pedido" ></textarea>
                                    </div>
                                </div> -->
                            </div>

                            <button class="btn mb-4 btn-contactar" @click="sendMessage" type="button"><i class="bi bi-whatsapp"></i> Contactar Productor</button>

                            <pre class="d-none">{{ selectedProduct}}</pre>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section-descripcion">
                <div class="container">
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item" role="presentation">
                        <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Descripción</button>
                        </li>
                        <li class="nav-item" role="presentation">
                        <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button" role="tab" aria-controls="profile" aria-selected="false">Detalle de Producto</button>
                        </li>
                        <li class="nav-item" role="presentation">
                        <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button" role="tab" aria-controls="contact" aria-selected="false">Información de Envio</button>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                            <p> 
                                {{ selectedProduct.description }}</p>
                        </div>
                        <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                            <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Libero beatae necessitatibus ullam dolorem tempora et, ipsam commodi minus eius velit maxime molestiae cumque harum esse aliquid rerum distinctio quae doloribus officiis cum, officia, consectetur aut doloremque veniam. Incidunt dolor, voluptate fuga sapiente magni natus ad nam cumque ratione maiores doloremque.</p>
                        </div>
                        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                            <p>Envío gratuito en España peninsular en pedidos a partir de 60€. Recibe tu pedido entre 3 y 5 días hábiles
                            </p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="productos-relacionados py-5 bg-light">
                <div class="container px-4 px-lg-5 mt-5">
                    <h2 class="fw-bolder mb-4">Productos Relacionados</h2>
                    <div class="row gx-4 gx-lg-5 row-cols-2 row-cols-md-3 row-cols-xl-4 justify-content-center">
                        <div class="col mb-5">
                            <div class="card h-100">
                                <!-- Product image-->
                                <img class="card-img-top" src="https://dummyimage.com/450x300/dee2e6/6c757d.jpg" alt="..." />
                                <!-- Product details-->
                                <div class="card-body p-4">
                                    <div class="text-center">
                                        <!-- Product name-->
                                        <h5 class="fw-bolder">Fancy Product</h5>
                                        <!-- Product price-->
                                        $40.00 - $80.00
                                    </div>
                                </div>
                                <!-- Product actions-->
                                <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                    <div class="text-center"><a class="btn btn-outline-dark mt-auto" href="#">View options</a></div>
                                </div>
                            </div>
                        </div>
                        <div class="col mb-5">
                            <div class="card h-100">
                                <!-- Sale badge-->
                                <div class="badge bg-dark text-white position-absolute" style="top: 0.5rem; right: 0.5rem">Sale</div>
                                <!-- Product image-->
                                <img class="card-img-top" src="https://dummyimage.com/450x300/dee2e6/6c757d.jpg" alt="..." />
                                <!-- Product details-->
                                <div class="card-body p-4">
                                    <div class="text-center">
                                        <!-- Product name-->
                                        <h5 class="fw-bolder">Special Item</h5>
                                        <!-- Product reviews-->
                                        <div class="d-flex justify-content-center small text-warning mb-2">
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                        </div>
                                        <!-- Product price-->
                                        <span class="text-muted text-decoration-line-through">$20.00</span>
                                        $18.00
                                    </div>
                                </div>
                                <!-- Product actions-->
                                <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                    <div class="text-center"><a class="btn btn-outline-dark mt-auto" href="#">Add to cart</a></div>
                                </div>
                            </div>
                        </div>
                        <div class="col mb-5">
                            <div class="card h-100">
                                <!-- Sale badge-->
                                <div class="badge bg-dark text-white position-absolute" style="top: 0.5rem; right: 0.5rem">Sale</div>
                                <!-- Product image-->
                                <img class="card-img-top" src="https://dummyimage.com/450x300/dee2e6/6c757d.jpg" alt="..." />
                                <!-- Product details-->
                                <div class="card-body p-4">
                                    <div class="text-center">
                                        <!-- Product name-->
                                        <h5 class="fw-bolder">Sale Item</h5>
                                        <!-- Product price-->
                                        <span class="text-muted text-decoration-line-through">$50.00</span>
                                        $25.00
                                    </div>
                                </div>
                                <!-- Product actions-->
                                <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                    <div class="text-center"><a class="btn btn-outline-dark mt-auto" href="#">Add to cart</a></div>
                                </div>
                            </div>
                        </div>
                        <div class="col mb-5">
                            <div class="card h-100">
                                <!-- Product image-->
                                <img class="card-img-top" src="https://dummyimage.com/450x300/dee2e6/6c757d.jpg" alt="..." />
                                <!-- Product details-->
                                <div class="card-body p-4">
                                    <div class="text-center">
                                        <!-- Product name-->
                                        <h5 class="fw-bolder">Popular Item</h5>
                                        <!-- Product reviews-->
                                        <div class="d-flex justify-content-center small text-warning mb-2">
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                            <div class="bi-star-fill"></div>
                                        </div>
                                        <!-- Product price-->
                                        $40.00
                                    </div>
                                </div>
                                <!-- Product actions-->
                                <div class="card-footer p-4 pt-0 border-top-0 bg-transparent">
                                    <div class="text-center"><a class="btn btn-outline-dark mt-auto" href="#">Add to cart</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer-->
    <footer class="py-5 bg-dark">
        <div class="container">
            <p class="m-0 text-center text-white">
                Copyright &copy; Your Website 2024
            </p>
        </div>
    </footer>


    
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
    <!-- Vue JS-->
    <script src="https://cdn.jsdelivr.net/npm/vue@2"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        var app = new Vue({
            el: "#app",
            data: {
                nombre:'',
                celular: '',
                cantidad: 1,
                showProduct: false,
                selectedProduct: null,
                products: [],
                products : [
                    { id: 1, name: 'Aceite de Oliva 1/2 Lt', price: 25, pricePlus: 28, images: './assets/aceite-500ml.png',  type: 'Aceite de Oliva Extra Virgen', description: 'Descripción del producto 2' },
                    { id: 2, name: 'Aceite de Oliva 1 Lt', price: 48, pricePlus: 50, images: './assets/aceite-litro.png',  type: 'Aceite de Oliva Extra Virgen', description: 'Descripción del producto 1' },
                    { id: 3, name: 'Aceitunas Negras 1kg', price: 20, pricePlus: 22, images: './assets/aceiguna-negra-kg.jpg',  type: 'Aceitunas Selectas', description: 'Descripción del producto 3' },
                    { id: 4, name: 'Aceitunas Negras 1/2kg', price: 10, pricePlus: 12, images: './assets/aceituna-negra-medio.jpg',  type: 'Aceitunas Selectas', description: 'Descripción del producto 4' },
                    { id: 5, name: 'Aceitunas Verdes 1/2kg', price: 10, pricePlus: 12, images: './assets/aceituna-verde-medio.jpg',  type: 'Aceitunas Selectas', description: 'Descripción del producto 4' },
                    { id: 6, name: 'Aceitunas Verdes 1/2kg', price: 20, pricePlus: 22, images: './assets/aceituna-verde-kg.jpg',  type: 'Aceitunas Selectas', description: 'Descripción del producto 4' },
                ]
            },
            mounted() {
                // this.fetchProducts();
            },
            methods: {
                fetchProducts() {
                    axios.get('https://oligume-jlcallalle.vercel.app/productos.json')
                        .then(response => {
                        this.products = response.data.products;
                    })
                    .catch(error => {
                        console.error('Error al obtener los productos:', error);
                    });
                },
                // Método para mostrar el detalle de un producto
                showDetail(product) {
                    this.selectedProduct = product; 
                    this.showProduct = true;
                }, 
                showContact() {
                    console.log('prod' , this.selectedProduct);
                },
                sendMessage() {
                    // Crear el mensaje con los datos del formulario
                    //const mensaje = `Hola ${this.nombre}, tu número de celular es ${this.celular}.`;
                    // const mensaje = `Hola *${this.nombre}*, tu pedido es: ${this.selectedProduct.name}. El Monto Total es: S/. ${this.precioFinal}`;
                    const mensaje = `Hola, deseo estos productos de tu tienda.\n *Detalle del Pedido:* \n  Producto: ${this.selectedProduct.name}. \n Monto Total: S/. ${this.precioFinal}`;
                    
                    // URL de la API de WhatsApp
                    const apiURL = 'https://api.whatsapp.com/send?';

                    // Número de teléfono al que se enviará el mensaje (puedes cambiarlo según tus necesidades)
                    const telefono = '934835047';

                    // Construir el enlace completo
                    const enlaceWhatsApp = `${apiURL}phone=${telefono}&text=${encodeURIComponent(mensaje)}`;

                    // Abrir WhatsApp en una nueva ventana
                    window.open(enlaceWhatsApp);
                }
            },
            computed: {
                precioTotal() {
                    return this.cantidad * this.selectedProduct.price
                },
                precioFinal() {
                    const dscto =  3;
                    return this.precioTotal - dscto
                },
            }
        });
        Vue.config.devtools = true;
    </script>
</body>

</html>